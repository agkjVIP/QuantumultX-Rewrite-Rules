# QuantumultX-Rewrite-Rules


## ğŸ”¥é˜¿ç”˜å¯¼èˆªâ¤µ

### [@é˜¿ç”˜ç§‘æŠ€çš„ä¸ªäººå¯¼èˆª](https://xydh.fun/gzy20080302)
### [@é˜¿ç”˜ç§‘æŠ€çš„åšå®¢](https://agkjvip.github.io/)

## ğŸ“¢æ³¨æ„â¬

### 1.é—®é¢˜åé¦ˆ_qq:1565320199
### 2.ç‚¹å‡»è¿™é‡ŒåŠ å…¥ğŸ‘‰[qqäº¤æµç¾¤](https://jq.qq.com/?_wv=1027&k=htFPfS06)   ç‚¹å‡»è¿™é‡ŒåŠ å…¥ğŸ‘‰[TGäº¤æµç¾¤](https://t.me/peckios)

## å…³äºrewriteåŠå…¶åŸºç¡€å°ç™½æ•™ç¨‹

### 1. äº†è§£é‡å†™ / MITMè§£å¯†

- ç®€å•æ¥è¯´ï¼Œé‡å†™ å’Œ mitmè§£å¯† ä¸»è¦ç”¨æ¥å»å¹¿å‘Šä»¥åŠæŸäº›é‡å®šå‘ï¼Œå»å¹¿å‘Šå°±ä¸ç”¨è¯´äº†ï¼Œè‡³äºä»€ä¹ˆå«é‡å®šå‘å’±ä¹Ÿä¸å¤ªæ‡‚ï¼Œåæ­£æˆ‘åœ¨ç½‘ä¸Šçœ‹çš„å°±æ˜¯ï¼šæ¯”å¦‚å°† `google.cn` é‡å®šå‘ `google.hk`
- é…ç½®æ–‡ä»¶ä¸­å¯¹åº”çš„æ¨¡å—ï¼š**`[rewrite]` / `[mitm]`  ** 

### 2. MITMè§£å¯†

- å®˜æ–¹è§£é‡Šï¼šmitm æ ¹è¯ä¹¦ç”¨äº https è§£æï¼Œåªæœ‰é…ç½®äº†ä¸»æœºåçš„è¯·æ±‚æ‰ä¼šè¢« mitm æ¨¡å—è¿›è¡Œè§£æã€‚

  > - ä¸»æœºåï¼šå¯¹åº”é…ç½®æ–‡ä»¶ä¸­ `[mitm]` æ¨¡å—ä¸‹çš„ `hostname=` åé¢çš„å†…å®¹
  > - æˆ‘çš„ç†è§£ï¼Œå®ƒå°±æ˜¯ä¸€ä¸ªæœ¬åœ°è¯ä¹¦ï¼Œåæ­£å¼€å¯å°±è¡Œï¼šå…ˆç”Ÿæˆè¯ä¹¦ã€å†é…ç½®è¯ä¹¦(å®‰è£…è¯ä¹¦ã€ä¿¡ä»»è¯ä¹¦)ã€ç„¶åæ‰“å¼€å¼€å…³ã€‚
  > - æƒ³è¦ä½¿ç”¨ Quantumult X `è§£é”TikTok` ç­‰é«˜çº§ç©æ³•ï¼Œå°±å¿…é¡»å¼€å¯ `mitm`ã€‚

- å¼€å¯æ­¥éª¤ï¼š

  > Quantumult X `è®¾ç½®` > `MitM` > `ç”Ÿæˆè¯ä¹¦` > `é…ç½®è¯ä¹¦`(å®‰è£…å¹¶ä¿¡ä»»ã€å‚è€ƒ `å®‰è£…ç½‘æ˜“äº‘éŸ³ä¹è¯ä¹¦`)
  >
  > è¯ä¹¦å®‰è£…å®Œæˆã€æ‰“å¼€ `MitM` å¼€å…³

### 3. é‡å†™è„šæœ¬(ç½‘ä¸Šå…¶å®ƒæ•™ç¨‹ä¹ æƒ¯å«åš `å¤å†™è„šæœ¬`)

- å®˜æ–¹è§£é‡Š(æˆ‘ä¹Ÿä¸æ‡‚)ï¼šç”¨äºä¿®æ”¹ HTTP æˆ– HTTPS è¯·æ±‚å’Œå“åº”

  > ä¸éœ€è¦ä¹Ÿæ²¡å¿…è¦ææ‡‚ï¼Œå¯¹äºæˆ‘ä»¬è¿™æ ·çš„å°ç™½ç”¨æˆ·ï¼Œç›´æ¥å¼•ç”¨å„ä½å¤§ä½¬çš„é‡å†™è§„åˆ™å°±å¥½äº†ï¼Œè¦å•¥è‡ªè¡Œè½¦ï¼Ÿ

- æ·»åŠ  `[rewrite_remote]` è¿œç¨‹é‡å†™è„šæœ¬è®¢é˜…

  > - å°ç™½åº”è¯¥ä¹Ÿä¸ä¼šè‡ªå·±å†™è„šæœ¬ï¼Œå»ºè®®ç›´æ¥å¼•ç”¨`è¿œç¨‹é‡å†™è®¢é˜…`
  >
  >   `è®¾ç½®` > `é‡å†™` > `å¼•ç”¨` > å³ä¸Šè§’ `æ·»åŠ ` > è¾“å…¥è¿œç¨‹é‡å†™è®¢é˜…åœ°å€
  >
  >   > ä¸¾ä¾‹ `ç¥æœºé€šç”¨é‡å†™è®¢é˜…`
  >   >
  >   > ```
  >   > https://raw.githubusercontent.com/DivineEngine/Profiles/master/Quantumult/Rewrite/General.conf
  >   > ```
  >   >
  >   > è§„åˆ™å†…åŒ…å«ä¸»æœºå `hostname` ä»¥åŠé‡å†™ `rewrite` è§„åˆ™
  >
  > - å½“ç„¶ä¹Ÿå¯ä»¥å¼•ç”¨ä¸‹è½½åˆ° iCloud / æœ¬æœºè·¯å¾„ä¸‹çš„ `.conf` é…ç½®æ–‡ä»¶
  >
  >   > `iCloud` æ–‡ä»¶è·¯å¾„ï¼š`iCloud/Quantumult X/Profiles/`
  >   >
  >   > `æœ¬åœ°` æ–‡ä»¶è·¯å¾„ï¼š`æˆ‘çš„iPhone/Quantumult X/Profiles/`
  >   >
  >   > å¯¼å…¥æ–¹æ³•ï¼šç›´æ¥è¾“å…¥  `æ–‡ä»¶å.conf`
  >
  >   âš ï¸ å¼€å¯iCloudèµ„æºæ–‡ä»¶å¤¹åï¼Œé»˜è®¤ä½¿ç”¨`iCloud`è·¯å¾„ä¸‹çš„æ–‡ä»¶ï¼Œ`æˆ‘çš„iPhone`è·¯å¾„ä¸è¢«è¯»å–
  >
  >   âš ï¸ ä¸‹è½½å›æ¥çš„è„šæœ¬éœ€è¦å®šæœŸæ‰‹åŠ¨ä¸‹è½½æ–°ç‰ˆæœ¬è¿›è¡Œæ›¿æ¢

- æ·»åŠ  `[rewrite_local]` æœ¬åœ°é‡å†™è„šæœ¬

  > - `è®¾ç½®` > `é…ç½®æ–‡ä»¶` > `ç¼–è¾‘` >  `[rewrite_local]` æ¨¡å—
  >
  > - æ”¯æŒå¼•ç”¨ iCloud / æœ¬åœ° / è¿œç¨‹è·¯å¾„ï¼Œæ–‡ä»¶æ ¼å¼ä¸º .js
  >
  >   - iCloud / æœ¬åœ°  `.js `æ–‡ä»¶ (å¼€å¯iCloudèµ„æºæ–‡ä»¶å¤¹åé»˜è®¤ä½¿ç”¨iCloudè·¯å¾„ä¸‹çš„é…ç½®æ–‡ä»¶)
  >
  >     > - è„šæœ¬æ–‡ä»¶åœ¨å“ªé‡Œå¼„ï¼Ÿ
  >     >
  >     >   > è‡ªå·±å†™ > ä¼šä¹ˆï¼Ÿä¸ä¼šï¼
  >     >   >
  >     >   > å„ä½å¤§ä½¬æ— ç§å¥‰çŒ®ï¼Œå¯ä»¥ä¸‹è½½ä¿å­˜è‡³ iCloud æˆ–è€… æœ¬åœ°
  >     >
  >     > - è„šæœ¬æ–‡ä»¶å‚¨å­˜è·¯å¾„
  >     >
  >     >   > iCloud æ–‡ä»¶è·¯å¾„ï¼š`iCloud/Quantumult X/Scripts/`
  >     >   >
  >     >   > æœ¬åœ° æ–‡ä»¶è·¯å¾„ï¼š`æˆ‘çš„iPhone/Quantumult X/Scripts/`
  >
  >   >   >è„šæœ¬å¼•ç”¨æ–¹æ³•ï¼šç›´æ¥è¾“å…¥ `è„šæœ¬æ–‡ä»¶å.js`
  >   >
  >   >   âš ï¸ å¼€å¯iCloudèµ„æºæ–‡ä»¶å¤¹åï¼Œé»˜è®¤ä½¿ç”¨`iCloud`è·¯å¾„ä¸‹çš„æ–‡ä»¶ï¼Œ`æˆ‘çš„iPhone`è·¯å¾„ä¸è¢«è¯»å–
  >
  >   - è¿œç¨‹è·¯å¾„ `.js` æ–‡ä»¶ `Storeç‰ˆæœ¬ 1.0.5+ç‰ˆæœ¬å¯ç”¨`
  >
  >     > ä¸¾ä¾‹ `è·å–Netflixå‰§é›†è¯„åˆ†(by yichahucha)`
  >     >
  >     > ```
  >     > ^https?://ios\.prod\.ftl\.netflix\.com/iosui/user/.+path=%5B%22videos%22%2C%\d+%22%2C%22summary%22%5D url script-request-header https://raw.githubusercontent.com/yichahucha/surge/master/nf_rating.js
  >     > ^https?://ios\.prod\.ftl\.netflix\.com/iosui/user/.+path=%5B%22videos%22%2C%\d+%22%2C%22summary%22%5D url script-response-body https://raw.githubusercontent.com/yichahucha/surge/master/nf_rating.js
  >     > ```
  >     >
  >     > MitMæ¨¡å—ä¸‹ï¼Œhostnameåæ·»åŠ `ios.prod.ftl.netflix.com`
  >
  >   - ä¿®æ”¹è·¯å¾„+æ­£åˆ™è¡¨è¾¾å¼
  >
  >     > ä¸¾ä¾‹ `AKè§†é¢‘é‡å†™è§„åˆ™`
  >     >
  >     > ```
  >     > ^http:\/\/tingyun\.info\/api\/community\/edit url response-body "code":\d+, response-body "code":200
  >     > ^http:\/\/tingyun\.info\/api\/user\/personal url response-body .+ response-body {   "code": 200,   "msg": "ä¸ªäººä¿¡æ¯",   "time": "1666534199",   "data": {     "id": 108267,     "group_id": 0,     "parentid": 0,     "area": "",     "imei": "",     "xqx": "",     "is_change": 0,     "hl": "",     "jyyx": "",     "guanzhu": 0,     "fensi": 0,     "number": "JSJYJE",     "photo": "http:\/\/yfui.club0",     "num_t": 0,     "num": "-1",     "t_number": "208",     "vip_time": "2099-09-08",     "integral": 0,     "power": 0,     "agent": 0,     "username": "Mango_444603",     "nickname": "Mango_444603",     "password": "6ec639b8718fdc65201c1ec0a6bc9308",     "salt": "l05aGW",     "email": "",     "mobile": "14725836920",     "avatar": "http:\/\/tupian.ds9rsqa.cn\/mrtx\/48_1588741687.jpg",     "level": 1,     "gender": 0,     "birthday": null,     "bio": "",     "money": "0.00",     "fencheng": 0,     "weichat": "å®¢æœQQ\/å¾®ä¿¡ï¼š928355547",     "yitian": "",     "yitianyuan": "",     "qitian": "",     "qitianyuan": "",     "shiwu": "",     "shiwuyuan": "",     "yiyue": "",     "yiyueyuan": "",     "sanyue": "",     "sanyueyuan": "",     "liuyue": "",     "liuyueyuan": "",     "yinian": "",     "yinianyuan": "",     "yongjiu": "",     "yongjiuyuan": "",     "yitianurl": "",     "qitianurl": "",     "shiwuurl": "",     "yiyueurl": "",     "sanyueurl": "",     "liuyueurl": "",     "yinianurl": "",     "yongjiuurl": "",     "url8": "",     "url9": "",     "score": 0,     "successions": 1,     "maxsuccessions": 1,     "prevtime": 1663603948,     "logintime": 1663603948,     "loginip": "120.235.69.55",     "loginfailure": 0,     "joinip": "120.235.69.55",     "jointime": 1663603948,     "createtime": 1663603948,     "updatetime": 1663603948,     "token": "",     "status": "normal",     "verification": "",     "age": 0,     "is_okami": 0,     "view_num": 0,     "is_verifyed": 0,     "v_num": 0,     "device_code": "acb1616e2f8e3130b32ff868773eb8a2",     "tj_user_count": 0,     "video": 0,     "fabu": 0,     "today_invite_number": 0,     "invite_number": 0,     "vip": 1,     "read": 0,     "prevtime_text": null,     "logintime_text": null,     "jointime_text": null,     "avatar_text": "http:\/\/tupian.ds9rsqa.cn\/mrtx\/48_1588741687.jpg"   } }
  >     > ```
  >     >
  >     > MitMæ¨¡å—ä¸‹ï¼Œhostnameåæ·»åŠ `tingyun.info`
  
